---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import BentoBox from "../components/BentoBox.astro";
import "../styles/github-calender.css";
import GithubBox from "../components/Github/GithubBox.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import ProjectBox from "../components/Project/ProjectBox.astro";

type Project = CollectionEntry<"projects">;
const projects = (await getCollection("projects")).sort(
  (a: Project, b: Project) =>
    b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <main>
      <div class="grid grid-cols-3 gap-4">
        <BentoBox colSpan={2}>
          <div class="flex justify-start items-center">
            <p>
              Hi, I'm <span class="highlight">Philip</span>! I'm a full stack
              developer with a passion for creating beautiful and intuitive user
              interfaces. I'm currently studying my master's degree in Computer
              Science at IT-University of Copenhagen.
            </p>
            <img
              class="w-1/4 h-auto border-solid border-[.2rem] rotate-6"
              src="/pb.jpg"
              alt="Picture of Philip Flyvholm"
            />
          </div>
        </BentoBox>
        <BentoBox>
          <p>
            I always have multiple projects going on since I just can't stop
            creating new projects. I'm interested in <span class="highlight">Web development</span> and
            <span class="highlight">language parsing</span>.
          </p>
          <h5>My primary tools</h5>
          <ul>
            <li class="language-icon typescript">Typescript</li>
            <li class="language-icon svelte">Svelte</li>
            <li class="language-icon react">React</li>
          </ul>
        </BentoBox>
        <BentoBox colSpan={2}>
          <GithubBox username="PhilipFlyvholm" />
        </BentoBox>
        <BentoBox colSpan={1} order={3}>
          <p>
            Previously I've worked at:
            <ul>
              <li><span class="highlight">Lighthouse Visuals I/S (2018-2022):</span> My freelance company, focusing on wordpress sites for small and medium sized businesses.</li>
              <li><span class="highlight">Nulprocent.dk (2021-2022):</span> Danish alcohol-free alternative webshop.</li>
            </ul>
          </p>
        </BentoBox>
        {
          projects.map((project,i) => (
            <BentoBox order={i} padding="0" rowSpan={project.data.rowSize ?? 1} colSpan={project.data.colSize ?? 1}>
              <ProjectBox project={project} />
            </BentoBox>
          ))
        }
        <BentoBox order={99} colSpan={3} padding="0">
          <Footer />
        </BentoBox>
      </div>
    </main>
  </body>
</html>

<style>
  .language-icon{
    padding: 0rem 0.5rem;
    border-radius: 0.5rem;
    margin: 0rem;
    margin-left: 1rem;
    position: relative;
  }
  .language-icon::before{
    position: absolute;
    transform: translate(-50%, -50%);
    top: 50%;
    left: -.3rem;
    background-size: 1rem;
    background-position: center;
    background-repeat: no-repeat;
    height: 1rem;
    width: 1rem;
    display: block;
    content: "";
  }
  .typescript::before{
    background-image: url('/languages/typescript.png');
  }
  .svelte::before{
    background-image: url('/languages/svelte.png');
    background-size: 0.8rem;
  }
  .react::before{
    background-image: url('/languages/react.webp');
  }
</style>
